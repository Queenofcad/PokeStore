{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\PokeStore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import produce from'immer';export default function cart(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var action=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';switch(action.type){case'ADD_TO_CART':return produce(state,function(draft){var productIndex=state.findIndex(function(e){return e.id===action.product.id;});if(productIndex>=0){draft[productIndex].amount+=1;}else{draft.push(_objectSpread(_objectSpread({},action.product),{},{amount:1}));}});case'REMOVE_FROM_CART':return produce(state,function(draft){var productIndex=state.findIndex(function(e){return e.id===action.id;});if(draft[productIndex].amount===1){draft.splice(productIndex,1);}else{draft[productIndex].amount-=1;}});case'FINISHED':return[];default:var _cart=JSON.parse(sessionStorage.getItem('cart'));return _cart||state;}}","map":{"version":3,"sources":["C:/Users/User/Documents/GitHub/PokeStore/src/store/modules/cart/Reduces.js"],"names":["produce","cart","state","action","type","draft","productIndex","findIndex","e","id","product","amount","push","splice","JSON","parse","sessionStorage","getItem"],"mappings":"wKAAA,MAAOA,CAAAA,OAAP,KAAoB,OAApB,CAEA,cAAe,SAASC,CAAAA,IAAT,EAAuC,IAAzBC,CAAAA,KAAyB,2DAAjB,EAAiB,IAAbC,CAAAA,MAAa,2DAAJ,EAAI,CACpD,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,aAAL,CACE,MAAOJ,CAAAA,OAAO,CAACE,KAAD,CAAQ,SAACG,KAAD,CAAW,CAC/B,GAAMC,CAAAA,YAAY,CAAGJ,KAAK,CAACK,SAAN,CAAgB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASN,MAAM,CAACO,OAAP,CAAeD,EAA/B,EAAhB,CAArB,CAEA,GAAIH,YAAY,EAAI,CAApB,CAAuB,CACrBD,KAAK,CAACC,YAAD,CAAL,CAAoBK,MAApB,EAA8B,CAA9B,CACD,CAFD,IAEO,CACLN,KAAK,CAACO,IAAN,gCAAgBT,MAAM,CAACO,OAAvB,MAAgCC,MAAM,CAAE,CAAxC,IACD,CACF,CARa,CAAd,CAUF,IAAK,kBAAL,CACE,MAAOX,CAAAA,OAAO,CAACE,KAAD,CAAQ,SAACG,KAAD,CAAW,CAC/B,GAAMC,CAAAA,YAAY,CAAGJ,KAAK,CAACK,SAAN,CAAgB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASN,MAAM,CAACM,EAAvB,EAAhB,CAArB,CAEA,GAAIJ,KAAK,CAACC,YAAD,CAAL,CAAoBK,MAApB,GAA+B,CAAnC,CAAsC,CACpCN,KAAK,CAACQ,MAAN,CAAaP,YAAb,CAA2B,CAA3B,EACD,CAFD,IAEO,CACLD,KAAK,CAACC,YAAD,CAAL,CAAoBK,MAApB,EAA8B,CAA9B,CACD,CACF,CARa,CAAd,CAUF,IAAK,UAAL,CACE,MAAO,EAAP,CAEF,QACE,GAAMV,CAAAA,KAAI,CAAGa,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAX,CAAb,CACA,MAAOhB,CAAAA,KAAI,EAAIC,KAAf,CA5BJ,CA8BD","sourcesContent":["import produce from 'immer';\r\n\r\nexport default function cart(state = [], action = '') {\r\n  switch (action.type) {\r\n    case 'ADD_TO_CART':\r\n      return produce(state, (draft) => {\r\n        const productIndex = state.findIndex((e) => e.id === action.product.id);\r\n\r\n        if (productIndex >= 0) {\r\n          draft[productIndex].amount += 1;\r\n        } else {\r\n          draft.push({ ...action.product, amount: 1 });\r\n        }\r\n      });\r\n\r\n    case 'REMOVE_FROM_CART':\r\n      return produce(state, (draft) => {\r\n        const productIndex = state.findIndex((e) => e.id === action.id);\r\n\r\n        if (draft[productIndex].amount === 1) {\r\n          draft.splice(productIndex, 1);\r\n        } else {\r\n          draft[productIndex].amount -= 1;\r\n        }\r\n      });\r\n\r\n    case 'FINISHED':\r\n      return [];\r\n\r\n    default:\r\n      const cart = JSON.parse(sessionStorage.getItem('cart'));\r\n      return cart || state;\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}