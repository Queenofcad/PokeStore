{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\User\\\\PokeStore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\User\\\\PokeStore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\User\\\\PokeStore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\User\\\\PokeStore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\User\\\\PokeStore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{bindActionCreators}from'redux';import{MdRemoveShoppingCart}from'react-icons/md';import swal from'@sweetalert/with-react';import*as CartActions from'../../store/modules/cart/Actions';import{formatPrice}from'../../util/format';import{ProductCartView,Container,CartFooter}from'./style';var Cart=/*#__PURE__*/function(_Component){_inherits(Cart,_Component);var _super=_createSuper(Cart);function Cart(){var _this;_classCallCheck(this,Cart);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={cart:[],total:0,formatedTotal:''};_this.handleBuy=function(event){var buy=_this.props.buy;var _this$props=_this.props,total=_this$props.total,formatedTotal=_this$props.formatedTotal;swal({text:'Parabéns pela compra',buttons:{cancel:'Fechar'},content:/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Muito obrigado por comprar conosco\"),/*#__PURE__*/React.createElement(\"p\",null,\"O valor da sua compra foi de: \",/*#__PURE__*/React.createElement(\"strong\",null,formatedTotal)),/*#__PURE__*/React.createElement(\"p\",null,\"Voc\\xEA ganhou \",/*#__PURE__*/React.createElement(\"strong\",null,formatPrice(total*0.01)),\"\\u2248 de cashback\"))});sessionStorage.removeItem('cart');buy();};return _this;}_createClass(Cart,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props2=this.props,cart=_this$props2.cart,total=_this$props2.total,formatedTotal=_this$props2.formatedTotal;this.setState({cart:cart||[],total:total,formatedTotal:formatedTotal});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var _this$props3=this.props,cart=_this$props3.cart,total=_this$props3.total,formatedTotal=_this$props3.formatedTotal;if(prevProps.cart!==cart){sessionStorage.setItem('cart',JSON.stringify(cart));sessionStorage.setItem('total',JSON.stringify(total));this.setState({cart:cart||[],total:total,formatedTotal:formatedTotal});}}},{key:\"render\",value:function render(){var _this2=this;var _this$props4=this.props,theme=_this$props4.theme,removeFromCart=_this$props4.removeFromCart;var _this$state=this.state,cart=_this$state.cart,formatedTotal=_this$state.formatedTotal;return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Carrinho\"),/*#__PURE__*/React.createElement(ProductCartView,null,cart.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:item.name},/*#__PURE__*/React.createElement(\"img\",{src:item.imageUrl,alt:item.name}),/*#__PURE__*/React.createElement(\"strong\",null,item.name),/*#__PURE__*/React.createElement(\"span\",null,item.subTotal),/*#__PURE__*/React.createElement(\"span\",null,item.amount),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return removeFromCart(item.id);}},/*#__PURE__*/React.createElement(MdRemoveShoppingCart,{size:12,color:\"#FFF\"})));})),/*#__PURE__*/React.createElement(CartFooter,{theme:theme.color},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Total\"),/*#__PURE__*/React.createElement(\"span\",null,formatedTotal)),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return _this2.handleBuy();}},/*#__PURE__*/React.createElement(\"span\",null,\"Finalizar compra\"))));}}]);return Cart;}(Component);var mapStateToProps=function mapStateToProps(state){return{cart:state.cart.map(function(item){return _objectSpread(_objectSpread({},item),{},{subTotal:formatPrice(item.price*item.amount)});}),formatedTotal:formatPrice(state.cart.reduce(function(total,item){return total+=item.amount*item.price;},0)),total:state.cart.reduce(function(total,item){return total+=item.amount*item.price;},0),theme:state.theme};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators(CartActions,dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(Cart);export{Cart};","map":{"version":3,"sources":["C:/Users/User/PokeStore/src/components/Cart/index.js"],"names":["React","Component","connect","bindActionCreators","MdRemoveShoppingCart","swal","CartActions","formatPrice","ProductCartView","Container","CartFooter","Cart","state","cart","total","formatedTotal","handleBuy","event","buy","props","text","buttons","cancel","content","sessionStorage","removeItem","setState","prevProps","setItem","JSON","stringify","theme","removeFromCart","map","item","name","imageUrl","subTotal","amount","id","color","mapStateToProps","price","reduce","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { MdRemoveShoppingCart } from 'react-icons/md';\r\n\r\nimport swal from '@sweetalert/with-react';\r\n\r\nimport * as CartActions from '../../store/modules/cart/Actions';\r\nimport { formatPrice } from '../../util/format';\r\n\r\nimport { ProductCartView, Container, CartFooter } from './style';\r\n\r\nclass Cart extends Component {\r\n  state = {\r\n    cart: [],\r\n    total: 0,\r\n    formatedTotal: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { cart, total, formatedTotal } = this.props;\r\n    this.setState({\r\n      cart: cart || [],\r\n      total,\r\n      formatedTotal,\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { cart, total, formatedTotal } = this.props;\r\n    if (prevProps.cart !== cart) {\r\n      sessionStorage.setItem('cart', JSON.stringify(cart));\r\n      sessionStorage.setItem('total', JSON.stringify(total));\r\n      this.setState({\r\n        cart: cart || [],\r\n        total,\r\n        formatedTotal,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleBuy = (event) => {\r\n    const { buy } = this.props;\r\n    const { total, formatedTotal } = this.props;\r\n\r\n    swal({\r\n      text: 'Parabéns pela compra',\r\n      buttons: {\r\n        cancel: 'Fechar',\r\n      },\r\n      content: (\r\n        <div>\r\n          <strong>Muito obrigado por comprar conosco</strong>\r\n          <p>\r\n            O valor da sua compra foi de: <strong>{formatedTotal}</strong>\r\n          </p>\r\n          <p>\r\n            Você ganhou <strong>{formatPrice(total * 0.01)}</strong>≈ de\r\n            cashback\r\n          </p>\r\n        </div>\r\n      ),\r\n    });\r\n\r\n    sessionStorage.removeItem('cart');\r\n    buy();\r\n  };\r\n\r\n  render() {\r\n    const { theme, removeFromCart } = this.props;\r\n    const { cart, formatedTotal } = this.state;\r\n    return (\r\n      <Container>\r\n        <h1>Carrinho</h1>\r\n        <ProductCartView>\r\n          {cart.map((item) => (\r\n            <li key={item.name}>\r\n              <img src={item.imageUrl} alt={item.name} />\r\n              <strong>{item.name}</strong>\r\n              <span>{item.subTotal}</span>\r\n              <span>{item.amount}</span>\r\n              <button type=\"button\" onClick={() => removeFromCart(item.id)}>\r\n                <MdRemoveShoppingCart size={12} color=\"#FFF\" />\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ProductCartView>\r\n\r\n        <CartFooter theme={theme.color}>\r\n          <div>\r\n            <strong>Total</strong>\r\n            <span>{formatedTotal}</span>\r\n          </div>\r\n\r\n          <button type=\"button\" onClick={() => this.handleBuy()}>\r\n            <span>Finalizar compra</span>\r\n          </button>\r\n        </CartFooter>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  cart: state.cart.map((item) => ({\r\n    ...item,\r\n    subTotal: formatPrice(item.price * item.amount),\r\n  })),\r\n  formatedTotal: formatPrice(\r\n    state.cart.reduce((total, item) => (total += item.amount * item.price), 0)\r\n  ),\r\n  total: state.cart.reduce(\r\n    (total, item) => (total += item.amount * item.price),\r\n    0\r\n  ),\r\n  theme: state.theme,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(CartActions, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\r\nexport { Cart };\r\n"]},"metadata":{},"sourceType":"module"}